<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="utf-8"/>
<title>Células de Crecimiento | Zona</title>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/datatables.net-dt@2.0.2/css/dataTables.dataTables.min.css"/>
<style>
body{font-family:system-ui,Arial,sans-serif;margin:0;background:#fafafa;overflow:hidden}
header.banner img{width:100%;max-height:25vh;object-fit:cover;display:block}

/* --- controls bar --- */
.controls{margin:1rem 2rem;display:flex;flex-wrap:wrap;gap:.75rem;align-items:center}
#zonaSelect{padding:.35rem .6rem;font-size:1rem;border:1px solid #ccc;border-radius:4px}
.addr-label{white-space:nowrap;font-weight:600}
#homeInput{
  padding:.35rem .6rem;font-size:1rem;border:1px solid #ccc;border-radius:4px;
  min-width:260px;flex:1 1 260px;max-width:100%;
}
#homeInput::placeholder{color:#999}
#searchBtn{padding:.35rem .9rem;font-size:1rem;border:1px solid #2d57a3;background:#2d57a3;color:#fff;border-radius:4px;cursor:pointer}
#searchBtn:disabled{opacity:.5;cursor:not-allowed}

/* --- table/card areas (unchanged) --- */
.table-wrapper{height:calc(75vh - 3rem);overflow:auto;padding:0 2rem 1rem}
table.dataTable{border:2px solid #13284b;border-collapse:collapse;width:100%;table-layout:fixed}
table.dataTable th,table.dataTable td{word-wrap:break-word;white-space:normal}
table.dataTable thead th{background:#2d57a3;color:#fff;border:1px solid #13284b;font-weight:700;text-align:center}
table.dataTable tbody td:nth-child(1){background:#eeeeee;font-weight:700;text-align:center}
table.dataTable tbody tr:nth-child(even) td{background:#f8f8f8}
table.dataTable tbody td{border:1px solid #cccccc;vertical-align:top;padding:6px 4px}
.cards{display:none;padding:0 1rem 2rem;overflow:auto;height:calc(75vh - 3rem)}
.card{border:1px solid #ccc;border-radius:6px;margin-bottom:1rem;padding:1rem;background:#fff;box-shadow:0 1px 3px rgba(0,0,0,.06)}
.card.highlight{border:2px solid #2d57a3}
.card h2{margin:0 0 .5rem;font-size:1.15rem}.card p{margin:.25rem 0;font-size:.95rem;line-height:1.25}
@media(max-width:900px){body{overflow:auto}.table-wrapper{display:none}.cards{display:block}.controls{margin:1rem}}
#nearest{margin:.5rem 2rem 0;font-weight:600}
#error{color:#c00;margin:1rem 2rem 0;font-weight:700}
</style>
</head>
<body>
<header class="banner"><img src="./header.png" alt="La Cosecha Community Church – Células de Crecimiento por Zona"></header>

<div class="controls">
  <label for="zonaSelect"><strong>Zona:</strong></label>
  <select id="zonaSelect"><option value="">— Todas —</option></select>

  <label for="homeInput" class="addr-label"><strong>Find nearest address:</strong></label>
  <input id="homeInput" type="text" placeholder="Home Address" autocomplete="off">

  <button id="searchBtn">Search</button>
</div>

<div id="nearest"></div>

<div class="table-wrapper"><table id="tabla" class="display"></table></div>
<div id="cards" class="cards"></div>
<div id="error" hidden></div>

<!-- Google Maps JS with Places -->
<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyC4LU0O02a7lCRtZeyGbigQQcJ4EuSKa7A&libraries=places"></script>
<script src="./xlsx.full.min.js"></script>
<script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/datatables.net@2.0.2/js/dataTables.min.js"></script>

<script>
const API_KEY='AIzaSyC4LU0O02a7lCRtZeyGbigQQcJ4EuSKa7A';
const geoCache=new Map();
/* ...  (all JS from previous version remains exactly the same) ... */
</script>
</body>
</html>
